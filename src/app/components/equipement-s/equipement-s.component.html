<div class="card">
    <div class="header">
      <h4 class="title"><span class="now-ui-icons ui-2_settings-90"></span>Equipement de sécurite</h4>
      <br>
      <p class="category">Gestion des Equipement de sécurite</p><br>
      <button *ngIf="isUser()" rel="tooltip" title="Ajouter un Equipement"
        class="btn btn-success btn-fill now-ui-icons ui-1_simple-add" (click)="onNewEquipement()"></button>
        
        <div *ngIf="submitted" class="alert alert-success alert-dismissible fade show" role="alert">
          <h4>Insert Succussfully !</h4>
          <button type="button" class="close" data-dismiss="alert" aria-label="Close">
            <span aria-hidden="true"><i class="now-ui-icons objects_spaceship"></i></span>
          </button>
        </div>
      <button *ngIf="isAdmin()" rel="tooltip" title="Ajouter un equipement"
        class="btn btn-success btn-fill now-ui-icons ui-1_simple-add" (click)="onNewEquipement()"></button>
  
    </div>
    
    <div class="container-fluid mt--7">
      <div *ngIf="mode=='detaille'" class="container ">
        <div class="card bg shadow">
          <div class="card-header bg-success border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0 text-white">Equipement</h3>
              </div>
            </div>
          </div>
          <div class="card-body">
            <div class="card" style="width: 30rem;">
              <img
                src="../../../assets/img/extincteur2.png"
                class="card-img-top"
                alt="..."
              />
              <div class="card-body" >
                <h5 class="card-title">Equipement :</h5>
              </div>
              <ul class="list-group list-group-flush" *ngFor="let d of detailleE">
                <li class="list-group-item">Réference : {{d.ref}}</li>
                <li class="list-group-item">Emplacement {{d.emplacement}}:</li>
                <li class="list-group-item">Adresse {{d.adress}}:</li>
                <li class="list-group-item">Date Entretien {{d.dateEntretien}}:</li>
                <li class="list-group-item">Type :</li>
              </ul>
              <button type="reset" (click)="onCancel()" class="btn btn-danger btn-fill float-right">Retour</button>
            </div>
          </div>
        </div>
      </div>
      <div *ngIf="mode=='new-equipement'" class="container ">
        <div class="card bg shadow">
          <div class="card-header bg-success border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0 text-white">Equipement</h3>
              </div>
            </div>
          </div>
          <div class="card-body">
            <form>
              <h6 class="heading-small text-muted mb-4">Information de l´Equipement </h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Réference</label>
                      <input type="text" class="form-control" name="ref" [(ngModel)]="equipement.ref" required id="ref" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Emplacement</label>
                      <input type="text" class="form-control" name="emplacement" [(ngModel)]="equipement.emplacement" required
                      id="emplacement" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Adresse</label>
                      <input type="text" class="form-control" name="adresse" [(ngModel)]="equipement.adress" required
                      id="adress" #username="ngModel">
                    </div>
                  </div>
                </div>
  
                <div class="row">
                  <div class="col-md-12 ">
                    <div class="form-group">
                      <label>Date Entretien </label>
                      <input type="date" class="form-control" name="date" [(ngModel)]="equipement.dateEntretien" id="dateEentretien" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group">
                  <div class="input-group col-md-12">
                    <div class="input-group-prepend ">
                      <label class="input-group-text bg-success" for="inputGroupSelect01"> Type de Moyen De transport &nbsp;&nbsp;  &nbsp;       </label>
                       <select [(ngModel)]="equipement.equipmentType" name="equipement.equipmentType"   class="custom-select" id="equipement.equipmentType">
                        
                        <option  *ngFor="let eq1 of equipementst" [(ngValue)]="eq1.id">{{eq1.label}}</option>
                        
                      </select> 
                    </div>
                    
                  </div>
                 </div> 
                </div> 
                <div class="row">
  
                  <div class="col-lg-12">
                    <button type="reset" (click)="onCancel()" class="btn btn-danger btn-fill float-right">Annuler</button>
                    <button *ngIf="isAdmin()" type="submit" class="btn btn-success btn-fill float-right"
                      (click)="onSaveEquipement()">Enrigistrer</button>
                    <button *ngIf="isUser()" type="submit" class="btn btn-success btn-fill float-right"
                      (click)="onSaveEquipement()">Enrigistrer</button>
                  </div>
                </div>
              </div>
  
            </form>
          </div>
        </div>
      </div>
     
      <!-- <div *ngIf="mode=='new-equipement'" class="container ">
        <div class="card bg shadow">
          <div class="card-header bg-success border-0">
            <div class="row align-items-center">
              <div class="col-8">
                <h3 class="mb-0 text-white">Equipement</h3>
              </div>
            </div>
          </div>
          <div class="card-body">
            <form>
              <h6 class="heading-small text-muted mb-4">Information de l´Equipement </h6>
              <div class="pl-lg-4">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Réference</label>
                      <input type="text" class="form-control" name="ref" [(ngModel)]="form.ref" required minlength="3"
                        maxlength="20" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Emplacement</label>
                      <input type="text" class="form-control" name="emplacement" [(ngModel)]="form.emplacement" required
                        minlength="3" maxlength="20" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-group">
                      <label class="form-control-label" for="input-address">Adresse</label>
                      <input type="text" class="form-control" name="adresse" [(ngModel)]="form.adresse" required
                        minlength="3" maxlength="20" #username="ngModel">
                    </div>
                  </div>
                </div>
  
                <div class="row">
                  <div class="col-md-12 ">
                    <div class="form-group">
                      <label>Date Entretien </label>
                      <input type="date" class="form-control" name="date" [(ngModel)]="form.date" required minlength="3"
                        maxlength="20" #username="ngModel">
                    </div>
                  </div>
                </div>
                <div class="row">
                  <div class="row form-group">
                    <div class="col-md-12">
                      <label class="control-label">Type</label><br />
                      <select friendly-name="role" id="role" name="role" class="col-md-12 form-control" ng-required="true"
                        onchange='OnChange()'>
                        <option type="text" class="form-control" name="type" [(ngModel)]="form.type" required
                          minlength="3" maxlength="20" #username="ngModel">Type</option>
  
  
                      </select>
                    </div>
                  </div>
                </div><br>
                <div class="row">
  
                  <div class="col-lg-12">
                    <button type="reset" (click)="onCancel()"
                      class="btn btn-secondary btn-fill float-right">Annuler</button>
                    <button  type="submit" class="btn btn-success btn-fill float-right"
                      (click)="onSaveEquipement()">Ajouter</button>
                  </div>
                </div>
              </div>
  
  
               Description 
  
            </form>
          </div>
        </div>
      </div> -->
    </div>
    <div div *ngIf="mode == 'list'" class="content">
      <div class="col">
        <div class="card bg-success shadow">
          <div class="card-header bg-success border-0">
            <h3 class="text-white mb-0">Liste Des Equipement</h3>
          </div>
  
          <div class="table-responsive">
            <table class="table align-items-center table-success table-flush">
              <thead class="thead-success">
                <tr>
                  <th scope="col">Réference</th>
                  <th scope="col">Emplacement</th>
                  <th scope="col">Adresse</th>
                  <th scope="col">Type</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let eq of equipements; let i = index " [class.active]="i == currentIndex"
                (click)="setActiveTutorial(eq,i)">
                  <th scope="row">
                    <div class="media align-items-center">
  
                      <div class="media-body">
                        <span class="mb-0 text-sm">{{eq.ref}}</span>
                      </div>
                    </div>
                  </th>
  
                  <td>
                    <div class="media align-items-center">
  
                      <div class="media-body">
                        <span class="mb-0 text-sm">{{eq.emplacement}}</span>
                      </div>
                    </div>
  
                  </td>
  
                  <td>
                    <div class="d-flex align-items-center">
                      <span class="mr-2">{{eq.adress}}</span>
                      <div>
                        <div class="progress">
                          <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                            aria-valuemax="100" style="width: 60%;"></div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td>
                    <div class="d-flex align-items-center">
                      <span class="mr-2">{{eq.equipmentType.label}}</span>
                      <div>
                        <div class="progress">
                          <div class="progress-bar bg-warning" role="progressbar" aria-valuenow="60" aria-valuemin="0"
                            aria-valuemax="100" style="width: 60%;"></div>
                        </div>
                      </div>
                    </div>
                  </td>
                  <td class="text-right">
                    <div class="col-lg-12">
                  <td class="text-left">
                    <button *ngIf="isAdmin()" rel="tooltip" title="supprimer " 
                      class="btn btn-danger btn-fill float-right now-ui-icons objects_spaceship"
                      (click)="OnDeleteEquipement(eq.id)"></button>
                    <button *ngIf="isAdmin()" rel="tooltip" title="detaille"
                      class="btn btn-secondary btn-fill float-right btn btn-secondary btn-fill float-right now-ui-icons  arrows-1_refresh-69"
                      (click)="onEditEquipement()"></button>
                    <button *ngIf="isAdmin()" rel="tooltip" title="Ajouter un doctorant"
                      class="btn btn-success btn-fill float-right btn btn-success btn-fill float-right now-ui-icons files_box"
                      (click)="detaille(eq.id)"></button>
                    <button *ngIf="isUser1()" rel="tooltip" title="Ajouter un doctorant"
                      class="btn btn-success btn-fill float-right now-ui-icons files_box "
                      (click)="detaille(eq.id)"></button>
                  </td>
  
          </div>
          </td>
          </tr>
  
  
  
  
          </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  </div>